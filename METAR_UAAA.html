<!DOCTYPE html>
<html>
<head>
<style>
html, body {
  margin: 0;
  padding: 0;
  background: darkblue;
  color: #FFFFFF;
  font-family: "courier new";
  height: 100%;
}
#metar {
  display: flex;
  align-items: top;
  justify-content: left;
  height: 100%;
  white-space: nowrap;
}
</style>
</head>
<body>

<div id="metar">Loading METAR...</div>

<script>
const ICAO = "UAAA";

function fitText() {
  const el = document.getElementById("metar");
  let size = 35;
  el.style.fontSize = size + "px";
  while (el.scrollWidth > el.clientWidth && size > 12) {
    size--;
    el.style.fontSize = size + "px";
  }
}

function loadMetar() {
  fetch(`https://skyvok.com/api/metar?icao=${ICAO}`)
    .then(r => r.json())
    .then(j => {
      el = document.getElementById("metar");
      el.innerText = j.data[0].raw_text;
      fitText();
    });
}

loadMetar();
setInterval(loadMetar, 60000);
</script>

</body>
</html>
